(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{231:function(e,a,t){e.exports=t(430)},236:function(e,a,t){},430:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(55),s=t.n(o),l=t(56),i=t(57),c=t(59),u=t(58),m=t(60),d=(t(236),function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"App")}}]),a}(n.Component)),p=t(102),h=t(135),g=t.n(h);t(298),t(300),t(431);g.a.initializeApp({apiKey:"AIzaSyArBnNqE8m5rucciUZ5zIcV2pEOnq3nTOo",authDomain:"hasegawa-app.firebaseapp.com",databaseURL:"https://hasegawa-app.firebaseio.com",projectId:"hasegawa-app",storageBucket:"",messagingSenderId:"224089872497",appId:"1:224089872497:web:a8dd64d091f6a145"});var f=g.a,E=t(443),w=t(445),v=t(62),b=t(440),y=t(448),C=t(442),I=t(441),O=t(439),j=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={email:"",password:"",errors:[],loading:!1},t.displayErrors=function(e){return e.map(function(e,a){return r.a.createElement("p",{key:a},e.message)})},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.isFormValid(t.state)&&(t.setState({errors:[],loading:!0}),f.auth().signInWithEmailAndPassword(t.state.email,t.state.password).then(function(e){console.log(e)}).catch(function(e){console.error(e),t.setState({errors:t.state.errors.concat(e),loading:!1})}))},t.isFormValid=function(e){var a=e.email,t=e.password;return a&&t},t.handleInputError=function(e,a){return e.some(function(e){return e.message.toLowerCase().includes(a)})?"error":""},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.password,n=e.errors,o=e.loading;return r.a.createElement(E.a,{textAlign:"center",verticalAlign:"middle",className:"app"},r.a.createElement(E.a.Column,{style:{maxWidth:450}},r.a.createElement(w.a,{as:"h1",icon:!0,color:"violet",textAlign:"center"},r.a.createElement(v.a,{name:"code branch",color:"violet"}),"\u30ed\u30b0\u30a4\u30f3"),r.a.createElement(b.a,{onSubmit:this.handleSubmit,size:"large"},r.a.createElement(y.a,{stacked:!0},r.a.createElement(b.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",onChange:this.handleChange,value:a,className:this.handleInputError(n,"email"),type:"email"}),r.a.createElement(b.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9",onChange:this.handleChange,value:t,className:this.handleInputError(n,"password"),type:"password"}),r.a.createElement(C.a,{disabled:o,className:o?"loading":"",color:"violet",fluid:!0,size:"large"},"\u30ed\u30b0\u30a4\u30f3"))),n.length>0&&r.a.createElement(I.a,{error:!0},r.a.createElement("h3",null,"Error"),this.displayErrors(n)),r.a.createElement(I.a,null,"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u65b9\u306f ",r.a.createElement(O.a,{to:"/register"},"\u65b0\u898f\u767b\u9332")," \u3078")))}}]),a}(r.a.Component),S=t(216),A=t.n(S),k=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={username:"",email:"",password:"",passwordConfirmation:"",errors:[],loading:!1,usersRef:f.database().ref("users")},t.isFormValid=function(){var e,a=[];return t.isFormEmpty(t.state)?(e={message:"\u672a\u8a18\u5165\u306e\u9805\u76ee\u304c\u3042\u308a\u307e\u3059\u3002"},t.setState({errors:a.concat(e)}),!1):!!t.isPasswordValid(t.state)||(e={message:"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u7121\u52b9\u3067\u3059\u3002"},t.setState({errors:a.concat(e)}),!1)},t.isFormEmpty=function(e){var a=e.username,t=e.email,n=e.password,r=e.passwordConfirmation;return!a.length||!t.length||!n.length||!r.length},t.isPasswordValid=function(e){var a=e.password,t=e.passwordConfirmation;return!(a.length<6||t.length<6)&&a===t},t.displayErrors=function(e){return e.map(function(e,a){return r.a.createElement("p",{key:a},e.message)})},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.isFormValid()&&(t.setState({errors:[],loading:!0}),f.auth().createUserWithEmailAndPassword(t.state.email,t.state.password).then(function(e){console.log(e),e.user.updateProfile({displayName:t.state.username,photoURL:"http://gravatar.com/avatar/".concat(A()(e.user.email),"?d=identicon")}).then(function(){t.saveUser(e).then(function(){console.log("user saved")})}).catch(function(e){console.error(e),t.setState({errors:t.state.errors.concat(e),loading:!1})})}).catch(function(e){console.error(e),t.setState({errors:t.state.errors.concat(e),loading:!1})}))},t.saveUser=function(e){return t.state.usersRef.child(e.user.uid).set({name:e.user.displayName,avatar:e.user.photoURL})},t.handleInputError=function(e,a){return e.some(function(e){return e.message.toLowerCase().includes(a)})?"error":""},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.username,t=e.email,n=e.password,o=e.passwordConfirmation,s=e.errors,l=e.loading;return r.a.createElement(E.a,{textAlign:"center",verticalAlign:"middle",className:"app"},r.a.createElement(E.a.Column,{style:{maxWidth:450}},r.a.createElement(w.a,{as:"h1",icon:!0,color:"orange",textAlign:"center"},r.a.createElement(v.a,{name:"puzzle piece",color:"orange"}),"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b"),r.a.createElement(b.a,{onSubmit:this.handleSubmit,size:"large"},r.a.createElement(y.a,{stacked:!0},r.a.createElement(b.a.Input,{fluid:!0,name:"username",icon:"user",iconPosition:"left",placeholder:"\u30e6\u30fc\u30b6\u540d",onChange:this.handleChange,value:a,type:"text"}),r.a.createElement(b.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",onChange:this.handleChange,value:t,className:this.handleInputError(s,"email"),type:"email"}),r.a.createElement(b.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9",onChange:this.handleChange,value:n,className:this.handleInputError(s,"password"),type:"password"}),r.a.createElement(b.a.Input,{fluid:!0,name:"passwordConfirmation",icon:"repeat",iconPosition:"left",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u78ba\u8a8d",onChange:this.handleChange,value:o,className:this.handleInputError(s,"password"),type:"password"}),r.a.createElement(C.a,{disabled:l,className:l?"loading":"",color:"orange",fluid:!0,size:"large"},"\u767b\u9332"))),s.length>0&&r.a.createElement(I.a,{error:!0},this.displayErrors(s)),r.a.createElement(I.a,null,"\u65e2\u306b\u767b\u9332\u6e08\u307f\u306e\u65b9\u306f ",r.a.createElement(O.a,{to:"/login"},"\u30ed\u30b0\u30a4\u30f3")," \u3078")))}}]),a}(r.a.Component),N=(t(428),t(444)),P=t(447),x=t(446);s.a.render(r.a.createElement(function(){return r.a.createElement(N.a,null,r.a.createElement(P.a,null,r.a.createElement(x.a,{exact:!0,path:"/",component:d}),r.a.createElement(x.a,{path:"/login",component:j}),r.a.createElement(x.a,{path:"/register",component:k})))},null),document.getElementById("root"))}},[[231,1,2]]]);
//# sourceMappingURL=main.863a0073.chunk.js.map